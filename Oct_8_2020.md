
<img src='./images/class_logo.png' width=500px align='right' style='padding-left:30px'>

**Week of October 5th, 2020**<br>  
**ATMOS 5340: Environmental Programming and Statistics**<br>
**John Horel and Derek Mallia**<br>
<br>

> # Announcement: 
> Your 4th programming assignement on Module 5 is **due this Sunday.**

> # Today's Objective<br>
> Getting familar with NumPy arrays<br>
> Manipulating and rehaping NumPy arrays<br>
> Go over other useful commands related to NumPy arrays<br>
<br><br>


#  Python NumPy Arrays
## Chapter 6 from the Alex DeCaria textbook: 'NumPy Arrays'

The Numpy module, which is readily installed with my Python distributions, is designed to work with large data sets, particularly those with multiple dimensions. However, unlike Python lists and tuples, NumPy arrays cannot hold multiple data types. For example, a defined numpy array must be all floating numbers, strings, integers, ect....  Despite this rule, it is much more computationally efficient to work with NumPy arrays than with lists/tuples. For this lecture, we will learn how to: 
- Create arrays
- Review common NumPy data types
- Go over useful array functions
- Discuss array indexing and subsetting
- Learn how to reshape arrays
- Combine logical operators with arrays

**Note:** There are *ALOT* of things you can do with NumPy arrays, so for the purpose of time, we will not be abe to go over every function/trick related to NumPy arrays. *It will be up to you* to read the DeCaria book and review other online resources! This lecture is meant to give you the tools so that you can work with basic NumPy arrays.

**Before starting:** Make sure that you open up a Jupyter notebook session using OnDemand so you can interactively follow along with today's lecture! 

<br><br>
---
---

# Creating an array

**Opening files:** Files can be simply opened using Python's `open()` function, which uses the following syntax:

    my_file = 'file.txt'
    
    f = open(my_file, <mode here>)
    

The arguments for our function include the file name, which we want to read in (this should be a 'string'), and an argument for mode that refers to how we want to open up our file. The variable `f` will contain a reference to the resulting file object. Listed below are the available modes for accessing a file:

>- `r`: Text file is opened as read only
>- `w`: Text file is open as write only. Any new output will overwrite the exist file.
>- `r+` or `w+`: Text file is opened for reading and writing. Any new output will overwrite the exist file.
>- `a`: Text file is opened for writing in an appended mode. Any new changes to the file will be appended at the end.
>- `b`: This tell Python to open the file as a binary file. For exampe, `rb` indicates a read-only binary file, and `rb+` would indicate a read and write enabled binary. This is usually needed when opening csv files with the csv module. More on this later...

**Closing files:** A file will be closed using the `close()` method. This can be accomplished by *appending* the method to the file object.

    f.close()
    
If you are lazy, you can use Python's `with` construct to access the file, and do whatever with the contents of the file using the following shorthand syntax:

    with open(my_file, <mode here>) as f:
        [Do stuff to file in this Python code block]
        



<br><br>
---
---

# Reading in text from files

Similar to before, we will use the `open` statement to access data within a text file. First, open up a CHPC OnDemand linux terminal, and
copy the following file into your Atmos 5340 directory. Feel free to make a subdirectory for Module_6!

    mkdir Module_6
    cp /uufs/chpc.utah.edu/common/home/u0703457/public_html/dereks_homepage/Atmos_5340/class_files/module6_datafile1.txt Module_6/

‚ö†Ô∏è‚ö†Ô∏è Even though we have not used linux in a few weeks, what we learned earlier in this semester will become increasingly helpful, especially as we get closer to the end of the semester. So keep those linux skills sharp üî™üî™

Lets open up the `module6_datafile1.txt` text file that we copied over into our working directory....

    f = open('module6_datafile1.txt','r')
    
now, lets use Python's `readline()` method to output the lines within our text file... 

    f.readline()
    >> "Today's weather forecast for Salt Lake City is:\n"
    
    f.readline()
    >> 'Sunny, with a high near 91. \n'
    
    f.readline()
    'Southwest wind around 10 mph \n'
    
    f.readline()
    'Winds becoming west northwest later in the day.'
    

‚ö†Ô∏è‚ö†Ô∏è Note that parts of section 6.3 from the DeCaria textbook is slightly outdated, as the `next` method became depreciated in Python versions newer than 3.3. `readline()` has replaced `next`. ‚ö†Ô∏è‚ö†Ô∏è
<br> <br>

We can also employ what we learned from the last lecture, and use a Python's `for` loop construct to read in each line of our text file!

    f = open("module6_datafile1.txt", "r")
    for x in f:
        print(x)

    f.close()      #Lets make sure sure that we close our file!
    
    
    >> Today's weather forecast for Salt Lake City is:
    >> Sunny, with a high near 91. 
    >> Southwest wind around 10 mph 
    >> Winds becoming west northwest later in the day.

<br>
If you want, you can also read in the entire file as a list...

    with open("module6_datafile1.txt", "r") as f:
        data = f.readlines()
    
    print(data)

    >> ["Today's weather forecast for Salt Lake City is:\n", 'Sunny, with a high near 91. \n', 'Southwest wind around 10 mph \n', 'Winds becoming west northwest later in the day.']
    
   
<br><br>
---
---
