<img src='./images/class_logo.png' width=500px align='right' style='padding-left:30px'>

**Week of October 12th, 2020**<br>  
**ATMOS 5340: Environmental Programming and Statistics**<br>
**John Horel and Derek Mallia**<br>
<br>

> # Announcement: 
> Your 5th programming assignment on Panda, Numpy Arrays, and plotting is **due this Sunday.**

> # Today's Objective
> Introduction to plotting with Python using the Matplotlib library
> Create simple 1-D plots
> Adjust plotting elemements
> Plot data from a Pandas Dateframe
> Review other types of plots
<br><br>


#  Plotting

Reading in and manipulating data is great, however, visualizing this data in some shape or form is often the end result for most programs! In this lecture we will learn how to plot up that data and edit different plotting elements to make our plots more visually appealing.
- We learn how to make a simple 1-D line plot
- Adjust different elements in our line plot 
- Plot data from the dateframe that we were working with last week.
- Visualize data in other ways such as histograms, pie charts, and scatter plots.

**Before starting:** Make sure that you open up a Jupyter notebook session using OnDemand so you can interactively follow along with today's lecture!

    
<br><br>
---
---

#  Basic plotting

Before we can start plotting data, we must import the matplotlib plotting library, which contains classes and functions for creatig MATLAB-style plots and graphs. We will primarily be working with the `pyplot` submodule for today's lecture. In addition, lets go ahead and import NumPy and Pandas, since we will be utilizing functions from those modules as well.

    import matplotlib.pyplot as plt
    import numpy as np
    import pandas as pd
    

Lets create a dummy data set to initially work with before we start working with 'real' data. Using NumPy, create the following 1-D array:

    x = np.arange(0,100.5,0.5)
    y = 2.0*np.sqrt(x) 
    plt.plot(x,y)
    plt.show()

What happened? Were you able to generate the plot below?

<img src='./images/plot1.png' width=600px align='center' style='padding-left:30px'>

Once you call the function pyplot.show() is called, which can be shorthanded as `plt.show()`, no more changes can be made to our plot or its axes.

<br><br>
A matplotlib plot generally consists of a `figure` object and an `axes` object. In the example above, these were automatically generated for us using the `plt.plot()` function. However, if we want to have more control of our plot, such as adding muliple axes, we will want to have more control over our plotting routines. Here, we will want to store our plot as a figure object by setting setting plt.figure() to a variable:

    fig = plt.figure()
    
Once a figure has been created, axes objected can be created and placed on our figure using `add_axes()` method for the figure object. Anyways more on this later, as this is used for slightly more advanced plots, which we are not quite ready for yet!

<br><br>

To change the color of our line plot, we can simply note a color when executing the plt.plot() function. For example, what if we wanted a *red* line:

    plt.plot(x,y,'red')
    plt.show()
    
Did you get a red line?

<br><br>

We can also plot multiple lines/markers on a single plot just by calling the plt.plot() function multiple times before showing the figure.

    # evenly sampled time at 200ms intervals
    t = np.arange(0., 5., 0.2)

    plt.plot(t, t, color="red", linestyle = "--",linewidth=2) 
    plt.plot(t, t**2, color="blue", marker = "o",linewidth=0)
    plt.plot(t, t**3, color="green", marker = "^",linewidth=0)
    plt.plot(t, t**4, color="orange", linestyle = "-",linewidth=5/2)
    plt.show()

<img src='./images/plot2.png' width=500px align='center' style='padding-left:100px'>

I really nice quick guide on Python line and marker options can be found [here](https://towardsdatascience.com/all-your-matplotlib-questions-answered-420dd95cb4ff). 

<br><br>

We can also label our figure using the `plt.xlabel()`, `plt.ylabel()`, and  `plt.title()` function:


    t = np.arange(0., 5., 0.2)

    plt.plot(t, t, color="red", linestyle = "--",linewidth=2) 
    plt.plot(t, t**2, color="blue", marker = "o",linewidth=0)
    plt.plot(t, t**3, color="green", marker = "^",linewidth=0)
    plt.plot(t, t**(5.2), color="orange", linestyle = "-",linewidth=5/2)
    plt.xlabel('Time [seconds]')
    plt.ylabel('Velocity [m/s]')
    plt.show()

<br><br>
If labels are added to each plot element, we can use this to create a legend.


    t = np.arange(0., 5., 0.2)

    plt.plot(t, t, color="red", linestyle = "--",linewidth=2,label="Blimp") 
    plt.plot(t, t**2, color="blue", marker = "o",linewidth=0,label="Propeller plane")
    plt.plot(t, t**3, color="green", marker = "^",linewidth=0,label="737")
    plt.plot(t, t**(5/2), color="orange", linestyle = "-",linewidth=5/2,label="Airbus")
    plt.xlabel('Time [seconds]')
    plt.ylabel('Velocity [m/s]')
    plt.title('Aircraft velocities')
    plt.legend(loc="upper left")
    plt.show()

<img src='./images/plot3.png' width=700px align='center' style='padding-left:30px'>

<br><br>

Python's matplotlib library as has the ability to create multi-panel plots when the programmer utlizies the the `plt.subplot()` function. 


    def f(t):
        return np.exp(-t) * np.cos(2*np.pi*t)

    t1 = np.arange(0.0, 5.0, 0.1)
    t2 = np.arange(0.0, 5.0, 0.02)

    plt.figure()
    plt.subplot(211)
    plt.plot(t1, f(t1),color="blue", marker = "o",linewidth=0)
    plt.plot(t1, f(t1),color="black", linestyle = "-")


    plt.subplot(212)
    plt.plot(t2, np.cos(2*np.pi*t2),color='red',linestyle = "--")
    plt.show()


<br><br>
---
---

> # Want more practice!?<br>
> Check out the following webpages:<br>
> https://www.johnny-lin.com/pyintro/ed01/free_pdfs/ch09.pdf<br>
> https://www.tutorialspoint.com/numpy/numpy_matplotlib.htm<br>
> https://matplotlib.org/tutorials/introductory/pyplot.html<br>
> https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html<br>
> https://towardsdatascience.com/all-your-matplotlib-questions-answered-420dd95cb4ff<br>
> https://matplotlib.org/3.3.0/api/markers_api.html<br>



